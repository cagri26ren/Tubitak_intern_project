{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cagri Eren\\\\Desktop\\\\tubitak-project\\\\event-manager-react\\\\src\\\\components\\\\Login.js\";\nimport React, { useContext, useEffect } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { UserContext } from \"../UserContext\";\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport history from '../history';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom/cjs/react-router-dom.min';\nconst uri = \"http://localhost:8080/\";\n\nfunction Alert(props) {\n  return /*#__PURE__*/React.createElement(MuiAlert, Object.assign({\n    elevation: 6,\n    variant: \"filled\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 12\n    }\n  }));\n}\n\nfunction Login(props) {\n  const [username, setUsername] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [open, setOpen] = React.useState(false);\n  const [msg, setMsg] = React.useState(\"\");\n  const [alertType, setAlertType] = React.useState(\"\");\n  const {\n    user,\n    setUser\n  } = useContext(UserContext);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleChange = event => {\n    if (event.target.name === \"username\") {\n      setUsername(event.target.value);\n      console.log(username);\n    } else {\n      setPassword(event.target.value);\n    }\n  };\n\n  const handleLogin = () => {\n    if (username === \"\") {\n      setMsg(\"Username cannot be empty\");\n      setOpen(true);\n      setAlertType(\"error\");\n    } else if (password === \"\") {\n      setMsg(\"Password cannot be empty\");\n      setOpen(true);\n      setAlertType(\"error\");\n    } else {\n      const postData = {\n        'username': username,\n        'password': password\n      };\n      console.log(postData);\n      axios.post(uri + \"login\", postData).then(response => {\n        console.log(response);\n\n        if (response.data.messageType === 'SUCCESS') {\n          props.callbackLogin(response.data.message, \"success\");\n          setUser({\n            \"logedin\": true\n          });\n          history.push(\"/events\");\n        } else {\n          setOpen(true);\n          setAlertType('error');\n          setMsg(response.data.message);\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: \"550px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"20%\",\n      justifyContent: \"center\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      marginTop: \"10%\",\n      marginLeft: \"500px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(TextField, {\n    name: \"username\",\n    id: \"standard-full-width\",\n    style: {\n      margin: 8\n    },\n    placeholder: \"Username\",\n    value: username,\n    size: \"medium\",\n    margin: \"normal\",\n    InputLabelProps: {\n      shrink: true\n    },\n    onChange: event => handleChange(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    name: \"password\",\n    id: \"standard-full-width2\",\n    style: {\n      margin: 8\n    },\n    placeholder: \"Password\",\n    size: \"medium\",\n    value: password,\n    margin: \"normal\",\n    InputLabelProps: {\n      shrink: true\n    },\n    onChange: event => handleChange(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, \"Log in\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Snackbar, {\n    open: open,\n    autoHideDuration: 3000,\n    onClose: () => handleClose(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    onClose: () => handleClose(),\n    severity: alertType + '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, msg))));\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Cagri Eren/Desktop/tubitak-project/event-manager-react/src/components/Login.js"],"names":["React","useContext","useEffect","TextField","UserContext","Button","Snackbar","MuiAlert","history","axios","Redirect","uri","Alert","props","Login","username","setUsername","useState","password","setPassword","open","setOpen","msg","setMsg","alertType","setAlertType","user","setUser","handleClose","handleChange","event","target","name","value","console","log","handleLogin","postData","post","then","response","data","messageType","callbackLogin","message","push","height","width","justifyContent","display","flexDirection","marginTop","marginLeft","margin","shrink"],"mappings":"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","sourcesContent":["import React, {useContext,useEffect } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport {UserContext} from \"../UserContext\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport history from '../history'\r\nimport axios from 'axios';\r\nimport { Redirect } from 'react-router-dom/cjs/react-router-dom.min';\r\n\r\nconst uri = \"http://localhost:8080/\"\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nfunction Login(props){\r\n    const [username,setUsername] = React.useState(\"\");\r\n    const [password,setPassword] = React.useState(\"\");\r\n    const [open,setOpen] = React.useState(false);\r\n    const [msg,setMsg] = React.useState(\"\");\r\n    const [alertType,setAlertType] = React.useState(\"\");\r\n    const {user,setUser} = useContext(UserContext);\r\n\r\n    const handleClose = ()=>{\r\n        setOpen(false);\r\n      }\r\n\r\n    const handleChange = (event) => {\r\n        if(event.target.name === \"username\"){\r\n            setUsername(event.target.value);\r\n            console.log(username);\r\n        }\r\n        else{\r\n            setPassword(event.target.value);\r\n        }\r\n    }\r\n\r\n        const handleLogin = () =>{\r\n        if(username === \"\"){\r\n            setMsg(\"Username cannot be empty\");\r\n            setOpen(true);\r\n            setAlertType(\"error\");\r\n        }\r\n        else if(password === \"\" ){\r\n            setMsg(\"Password cannot be empty\");\r\n            setOpen(true);\r\n            setAlertType(\"error\");\r\n        }\r\n        else{\r\n            const postData={\r\n                'username':username,\r\n                'password':password\r\n            }\r\n            console.log(postData)\r\n            axios.post(uri+\"login\",postData).then(response=>{\r\n                console.log(response);\r\n                if( response.data.messageType === 'SUCCESS'){\r\n                    props.callbackLogin(response.data.message,\"success\");\r\n                    setUser({\"logedin\":true});\r\n                    history.push(\"/events\")\r\n                }\r\n                else{\r\n                    setOpen(true);\r\n                    setAlertType('error');\r\n                    setMsg(response.data.message);\r\n                }\r\n            })\r\n        }\r\n\r\n    }\r\n    return(\r\n        <div style={{height:\"550px\"}}>\r\n            <div style={{width:\"20%\",justifyContent:\"center\", display:\"flex\",flexDirection:\"column\",marginTop:\"10%\",marginLeft:\"500px\"}}>\r\n                <h1>Login</h1>\r\n                <TextField\r\n                    name = \"username\"\r\n                    id=\"standard-full-width\"\r\n                    style={{ margin: 8 }}\r\n                    placeholder=\"Username\"\r\n                    value={username}\r\n                    size=\"medium\"\r\n                    margin=\"normal\"\r\n                    InputLabelProps={{\r\n                        shrink: true,\r\n                    }}\r\n                    onChange={(event)=>handleChange(event)}\r\n                />\r\n                <TextField\r\n                    name=\"password\"\r\n                    id=\"standard-full-width2\"\r\n                    style={{ margin: 8 }}\r\n                    placeholder=\"Password\"\r\n                    size=\"medium\"\r\n                    value={password}\r\n                    margin=\"normal\"\r\n                    InputLabelProps={{\r\n                        shrink: true,\r\n                    }}\r\n                    onChange={(event)=>handleChange(event)}\r\n                />\r\n                <Button variant=\"contained\" color=\"primary\" onClick={handleLogin}>\r\n                    Log in\r\n                </Button>\r\n            </div>\r\n            <div>\r\n                <Snackbar open={open} autoHideDuration={3000} onClose={()=>handleClose()}>\r\n                <Alert onClose={()=>handleClose()} severity={alertType+''}>\r\n                    {msg}\r\n                </Alert>\r\n                </Snackbar>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}