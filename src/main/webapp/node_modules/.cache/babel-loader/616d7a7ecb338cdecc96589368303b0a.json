{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cagri Eren\\\\Desktop\\\\tubitak-project\\\\event-manager-react\\\\src\\\\components\\\\QuestionPage\\\\QuestionPage.js\";\nimport 'date-fns';\nimport React, { Component, Fragment } from \"react\";\nimport TextField from '@material-ui/core/TextField';\nimport history from '../../history';\nimport DateSection from '../DateSection';\nimport Button from '@material-ui/core/Button';\nimport Pagination from '@material-ui/lab/Pagination';\nimport Chart from '../Chart';\nimport QuestionPageHeader from './QuestionPageHeader';\nimport axios from 'axios';\nimport QuestionComponent from './QuestionComponent';\nconst uri = \"http://localhost:8080/questions\";\nlet number = 0;\n\nfunction getEventArrays(arr) {\n  console.log(arr);\n  let newArr = [];\n\n  for (let i = 0; i < arr.length; i++) {\n    for (let j = 0; j < arr[i].participants.length; j++) {\n      for (let k = 0; k < arr[i].participants[j].chats; k++) {\n        newArr.push(arr[i]);\n      }\n    }\n  }\n\n  return newArr;\n}\n\nfunction getParticipantArrays(arr) {\n  let newArr = [];\n\n  for (let i = 0; i < arr.length; i++) {\n    for (let j = 0; j < arr[i].participants.length; j++) {\n      for (let k = 0; k < arr[i].participants[j].chats; k++) {\n        newArr.push(arr[i].participants[j]);\n      }\n    }\n  }\n\n  return newArr;\n}\n\nfunction getChatsArrays(arr) {\n  let newArr = [];\n\n  for (let i = 0; i < arr.length; i++) {\n    for (let j = 0; j < arr[i].participants.length; j++) {\n      for (let k = 0; k < arr[i].participants[j].chats; k++) {\n        newArr.push(arr[i].participants[j].chats[k]);\n      }\n    }\n  }\n\n  return newArr;\n}\n\nfunction createQuestionComponents(event) {\n  number = number + 1;\n  return /*#__PURE__*/React.createElement(QuestionComponent, {\n    number: number,\n    eventName: this.state.allEvents[number - 1].name,\n    time: this.state.allEvents[number - 1].startDate.substring(8, 10) + \"-\" + this.state.allEvents[number - 1].startDate.substring(5, 7) + \"-\" + this.state.allEvents[number - 1].startDate.substring(0, 4) + \"/\" + this.state.allEvents[number - 1].startTime.substring(0, 5) + \"  -  \" + this.state.allEvents[number - 1].endDate.substring(8, 10) + \"-\" + this.state.allEvents[number - 1].endDate.substring(5, 7) + \"-\" + this.state.allEvents[number - 1].endDate.substring(0, 4) + \"/\" + this.state.allEvents[number - 1].endTime.substring(0, 5),\n    name: this.state.allParticipants[number - 1].name,\n    tc: this.state.allParticipants[number - 1].tcKimlikNo,\n    question: this.state.allChats[number - 1].question,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  });\n}\n\nclass QuestionPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      events: [],\n      allEvents: [],\n      allChats: [],\n      allParticipants: [],\n      page: 1\n    };\n  }\n\n  componentDidMount() {\n    number = 0;\n    axios.get(uri).then(response => {\n      this.setState({\n        allEvents: getEventArrays(response.data),\n        events: getEventArrays(response.data).slice(0, 10),\n        allParticipants: getParticipantArrays(response.data),\n        allChats: getChatsArrays(response.data)\n      });\n      console.log(response);\n    });\n  }\n\n  handlePageChange(event, newPage) {\n    let arr = [...this.state.allEvents].slice(newPage * 10 - 10, newPage * 10);\n    this.setState({\n      page: newPage,\n      events: arr\n    });\n  }\n\n  render() {\n    let pagination = this.state.allEvents.length >= 10 ? /*#__PURE__*/React.createElement(Pagination, {\n      count: Math.ceil(this.state.allEvents.length / 10),\n      page: this.state.page,\n      color: \"primary\",\n      onChange: (event, newPage) => {\n        this.handlePageChange(event, newPage);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 63\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(QuestionPageHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, this.state.events.map(event => createQuestionComponents(event))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        float: 'right',\n        margin: '2%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }, pagination));\n  }\n\n}\n\nexport default QuestionPage;","map":{"version":3,"sources":["C:/Users/Cagri Eren/Desktop/tubitak-project/event-manager-react/src/components/QuestionPage/QuestionPage.js"],"names":["React","Component","Fragment","TextField","history","DateSection","Button","Pagination","Chart","QuestionPageHeader","axios","QuestionComponent","uri","number","getEventArrays","arr","console","log","newArr","i","length","j","participants","k","chats","push","getParticipantArrays","getChatsArrays","createQuestionComponents","event","state","allEvents","name","startDate","substring","startTime","endDate","endTime","allParticipants","tcKimlikNo","allChats","question","QuestionPage","events","page","componentDidMount","get","then","response","setState","data","slice","handlePageChange","newPage","render","pagination","Math","ceil","map","float","margin"],"mappings":"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","sourcesContent":["import 'date-fns';\r\nimport React, {Component,Fragment} from \"react\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport history from '../../history';\r\nimport DateSection from '../DateSection';\r\nimport Button from '@material-ui/core/Button';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport Chart from '../Chart';\r\nimport QuestionPageHeader from './QuestionPageHeader'\r\nimport axios from 'axios';\r\nimport QuestionComponent from './QuestionComponent';\r\n\r\nconst uri = \"http://localhost:8080/questions\";\r\n\r\nlet number = 0;\r\n\r\nfunction getEventArrays( arr ){\r\n    console.log(arr);\r\n    let newArr = [];\r\n    for( let i = 0; i < arr.length; i++ ){\r\n        for( let j = 0; j < arr[i].participants.length; j++ ){\r\n            for( let k = 0; k < arr[i].participants[j].chats; k++ ){\r\n                newArr.push(arr[i]);\r\n            }\r\n        }\r\n    }\r\n    return newArr;\r\n}\r\n\r\nfunction getParticipantArrays( arr ){\r\n    let newArr = [];\r\n    for( let i = 0; i < arr.length; i++ ){\r\n        for( let j = 0; j < arr[i].participants.length; j++ ){\r\n            for( let k = 0; k < arr[i].participants[j].chats; k++ ){\r\n                newArr.push(arr[i].participants[j]);\r\n            }\r\n        }\r\n    }\r\n    return newArr;\r\n}\r\n\r\nfunction getChatsArrays( arr ){\r\n    let newArr = [];\r\n    for( let i = 0; i < arr.length; i++ ){\r\n        for( let j = 0; j < arr[i].participants.length; j++ ){\r\n            for( let k = 0; k < arr[i].participants[j].chats; k++ ){\r\n                newArr.push(arr[i].participants[j].chats[k]);\r\n            }\r\n        }\r\n    }\r\n    return newArr;\r\n}\r\n\r\nfunction createQuestionComponents(event){\r\n    number = number + 1;\r\n    return(\r\n        <QuestionComponent\r\n            number = {number}\r\n            eventName={this.state.allEvents[number-1].name} \r\n            time={this.state.allEvents[number-1].startDate.substring(8,10) + \"-\"+ this.state.allEvents[number-1].startDate.substring(5,7) + \"-\"+ this.state.allEvents[number-1].startDate.substring(0,4) + \"/\" + this.state.allEvents[number-1].startTime.substring(0,5)\r\n                +\"  -  \" + this.state.allEvents[number-1].endDate.substring(8,10) + \"-\"+ this.state.allEvents[number-1].endDate.substring(5,7) + \"-\"+ this.state.allEvents[number-1].endDate.substring(0,4) + \"/\" + this.state.allEvents[number-1].endTime.substring(0,5)} \r\n            name={this.state.allParticipants[number-1].name}\r\n            tc={this.state.allParticipants[number-1].tcKimlikNo}\r\n            question={this.state.allChats[number-1].question}>\r\n        </QuestionComponent>\r\n    )\r\n}\r\n\r\nclass QuestionPage extends Component{\r\n    state={\r\n        events:[],\r\n        allEvents:[],\r\n        allChats:[],\r\n        allParticipants:[],\r\n        page:1\r\n\r\n    }\r\n    componentDidMount(){\r\n        number = 0;\r\n        axios.get(uri).then(response => {\r\n            this.setState({\r\n                allEvents:getEventArrays(response.data),\r\n                events:getEventArrays(response.data).slice(0,10),\r\n                allParticipants:getParticipantArrays(response.data),\r\n                allChats:getChatsArrays(response.data)\r\n            })\r\n            console.log(response)\r\n        });\r\n    }\r\n\r\n    handlePageChange(event,newPage){\r\n        let arr = [...this.state.allEvents].slice(newPage*10 - 10 , newPage * 10);\r\n\r\n        this.setState({page:newPage,events:arr});\r\n    }\r\n      \r\n\r\n\r\n    render(){\r\n        let pagination = (this.state.allEvents.length >= 10) ?<Pagination count={Math.ceil(this.state.allEvents.length/10)} page={this.state.page} color=\"primary\" onChange={(event,newPage)=>{this.handlePageChange(event,newPage)}} />\r\n        : <div></div>\r\n        return(\r\n            <div>\r\n                <QuestionPageHeader></QuestionPageHeader>\r\n                <div>\r\n                    {this.state.events.map( event => createQuestionComponents(event) )}\r\n                </div>\r\n                <div style={{float:'right',margin:'2%'}}>\r\n                    {pagination}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default QuestionPage;"]},"metadata":{},"sourceType":"module"}