{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cagri Eren\\\\Desktop\\\\tubitak-project\\\\event-manager-react\\\\src\\\\components\\\\Survey\\\\SurveyElement.js\";\nimport 'date-fns';\nimport React, { Component, Fragment } from \"react\";\nimport TextField from '@material-ui/core/TextField';\nimport history from '../../history';\nimport DateSection from '../DateSection';\nimport Button from '@material-ui/core/Button';\nimport Pagination from '@material-ui/lab/Pagination';\nimport MapContainer from '../../MapContainer';\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize';\nimport axios from 'axios';\nimport SurveyHeader from './SurveyHeader';\nimport SurveyComponent from './SurveyComponent';\nimport SurveyElementComponent from './SurveyElementComponent';\nimport { isThisSecond } from 'date-fns';\nconst uri = \"http://localhost:8080/surveyQuestions/\";\n\nfunction getParticipant(arr) {\n  for (let i = 0; i < arr.length; i++) {\n    if (arr[i].tcKimlikNo === localStorage.getItem('tc')) {\n      return arr[i];\n    }\n  }\n}\n\nfunction getPostData(event) {\n  let postData = [];\n\n  for (let i = 0; i < getParticipant(event.participants).surveyQuestions.length; i++) {\n    const data = {\n      'questionName': getParticipant(event.participants).surveyQuestions[i].questionName,\n      'answer': this.state.answer[i],\n      'tcKimlikNo': localStorage.getItem('tc')\n    };\n    postData.push(data);\n  }\n\n  return postData;\n}\n\nlet number = 0;\n\nfunction createEventComponents(event) {\n  number = number + 1;\n  return /*#__PURE__*/React.createElement(SurveyElementComponent, {\n    question: event.question,\n    number: number,\n    handleChange: (text, i) => {\n      handleTextArea(text, i);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  });\n}\n\nfunction handleTextArea(text, i) {\n  let arr = [...this.state.answers];\n  arr[i] = text;\n  this.setState({\n    answers: arr\n  });\n}\n\nclass SurveyElement extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      event: {},\n      answers: []\n    };\n  }\n\n  componentDidMount() {\n    axios.post(uri + window.location.href.substring(window.location.href.indexOf(\"/surveyQuestions\") + 16), {\n      'tcKimlikNo': localStorage.getItem('tc')\n    }).then(response => {\n      this.setState({\n        event: response.data\n      });\n    });\n  }\n\n  handleSubmit(event) {\n    axios.put(uri + window.location.href.substring(window.location.href.indexOf(\"/surveyQuestions\")) + 16, getPostData(this.state.event)).then(response => {\n      if (response.data.message === 'ERROR') {\n        console.log(response);\n      } else {\n        history.push(\"/events\");\n      }\n    });\n  }\n\n  render() {\n    number = 0;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: '40%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, \" \", this.state.event.name, \" Survey\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        backgroundColor: 'black',\n        height: '1px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-evenly',\n        width: '80%',\n        border: '1px solid black'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, getParticipant(this.state.event.participants).surveyQuestions.map(surveyQuestion => createEventComponents(surveyQuestion))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: event => {\n        this.handleSubmit(event);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }, \"Submit\")));\n  }\n\n}\n\nexport default SurveyElement;","map":{"version":3,"sources":["C:/Users/Cagri Eren/Desktop/tubitak-project/event-manager-react/src/components/Survey/SurveyElement.js"],"names":["React","Component","Fragment","TextField","history","DateSection","Button","Pagination","MapContainer","TextareaAutosize","axios","SurveyHeader","SurveyComponent","SurveyElementComponent","isThisSecond","uri","getParticipant","arr","i","length","tcKimlikNo","localStorage","getItem","getPostData","event","postData","participants","surveyQuestions","data","questionName","state","answer","push","number","createEventComponents","question","text","handleTextArea","answers","setState","SurveyElement","constructor","props","componentDidMount","post","window","location","href","substring","indexOf","then","response","handleSubmit","put","message","console","log","render","marginLeft","name","backgroundColor","height","display","flexDirection","justifyContent","width","border","map","surveyQuestion"],"mappings":";AAAA,OAAO,UAAP;AACA,OAAOA,KAAP,IAAeC,SAAf,EAAyBC,QAAzB,QAAwC,OAAxC;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,OAAOC,YAAP,MAAyB,oBAAzB;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,sBAAP,MAAmC,0BAAnC;AACA,SAASC,YAAT,QAA6B,UAA7B;AAEA,MAAMC,GAAG,GAAG,wCAAZ;;AAEA,SAASC,cAAT,CAAwBC,GAAxB,EAA4B;AACxB,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,GAAG,CAACE,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;AACjC,QAAID,GAAG,CAACC,CAAD,CAAH,CAAOE,UAAP,KAAsBC,YAAY,CAACC,OAAb,CAAqB,IAArB,CAA1B,EAAqD;AACjD,aAAOL,GAAG,CAACC,CAAD,CAAV;AACH;AACJ;AACJ;;AAED,SAASK,WAAT,CAAsBC,KAAtB,EAA6B;AACzB,MAAIC,QAAQ,GAAG,EAAf;;AACA,OAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,cAAc,CAACQ,KAAK,CAACE,YAAP,CAAd,CAAmCC,eAAnC,CAAmDR,MAAvE,EAA+ED,CAAC,EAAhF,EAAoF;AAChF,UAAMU,IAAI,GAAE;AACR,sBAAgBZ,cAAc,CAACQ,KAAK,CAACE,YAAP,CAAd,CAAmCC,eAAnC,CAAmDT,CAAnD,EAAsDW,YAD9D;AAER,gBAAU,KAAKC,KAAL,CAAWC,MAAX,CAAkBb,CAAlB,CAFF;AAGR,oBAAaG,YAAY,CAACC,OAAb,CAAqB,IAArB;AAHL,KAAZ;AAKAG,IAAAA,QAAQ,CAACO,IAAT,CAAcJ,IAAd;AACH;;AACD,SAAOH,QAAP;AACH;;AAED,IAAIQ,MAAM,GAAG,CAAb;;AACA,SAASC,qBAAT,CAA+BV,KAA/B,EAAqC;AACjCS,EAAAA,MAAM,GAAGA,MAAM,GAAG,CAAlB;AACA,sBACI,oBAAC,sBAAD;AACI,IAAA,QAAQ,EAAET,KAAK,CAACW,QADpB;AAEI,IAAA,MAAM,EAAEF,MAFZ;AAGI,IAAA,YAAY,EAAE,CAACG,IAAD,EAAMlB,CAAN,KAAU;AAACmB,MAAAA,cAAc,CAACD,IAAD,EAAMlB,CAAN,CAAd;AAAuB,KAHpD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAQH;;AAED,SAASmB,cAAT,CAAwBD,IAAxB,EAA6BlB,CAA7B,EAA+B;AAC3B,MAAID,GAAG,GAAG,CAAC,GAAG,KAAKa,KAAL,CAAWQ,OAAf,CAAV;AACArB,EAAAA,GAAG,CAACC,CAAD,CAAH,GAASkB,IAAT;AAEA,OAAKG,QAAL,CAAc;AAACD,IAAAA,OAAO,EAACrB;AAAT,GAAd;AACH;;AAID,MAAMuB,aAAN,SAA4BvC,SAA5B,CAAqC;AACjCwC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKZ,KAAL,GAAa;AACTN,MAAAA,KAAK,EAAC,EADG;AAETc,MAAAA,OAAO,EAAC;AAFC,KAAb;AAIH;;AACDK,EAAAA,iBAAiB,GAAE;AACfjC,IAAAA,KAAK,CAACkC,IAAN,CAAW7B,GAAG,GAAC8B,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,SAArB,CAA+BH,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBE,OAArB,CAA6B,kBAA7B,IAAmD,EAAlF,CAAf,EAAsG;AAAC,oBAAa5B,YAAY,CAACC,OAAb,CAAqB,IAArB;AAAd,KAAtG,EAAiJ4B,IAAjJ,CAAsJC,QAAQ,IAAI;AAC9J,WAAKZ,QAAL,CAAc;AAACf,QAAAA,KAAK,EAAC2B,QAAQ,CAACvB;AAAhB,OAAd;AACH,KAFD;AAGH;;AAEDwB,EAAAA,YAAY,CAAC5B,KAAD,EAAO;AACfd,IAAAA,KAAK,CAAC2C,GAAN,CAAUtC,GAAG,GAAC8B,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,SAArB,CAA+BH,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBE,OAArB,CAA6B,kBAA7B,CAA/B,CAAJ,GAAuF,EAAjG,EAAqG1B,WAAW,CAAC,KAAKO,KAAL,CAAWN,KAAZ,CAAhH,EAAqI0B,IAArI,CAA0IC,QAAQ,IAAE;AAChJ,UAAGA,QAAQ,CAACvB,IAAT,CAAc0B,OAAd,KAAwB,OAA3B,EAAmC;AAC/BC,QAAAA,OAAO,CAACC,GAAR,CAAYL,QAAZ;AACH,OAFD,MAGI;AACA/C,QAAAA,OAAO,CAAC4B,IAAR,CAAa,SAAb;AACH;AACJ,KAPD;AAQH;;AAGDyB,EAAAA,MAAM,GAAE;AACJxB,IAAAA,MAAM,GAAG,CAAT;AACA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,KAAK,EAAE;AAACyB,QAAAA,UAAU,EAAC;AAAZ,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAkC,KAAK5B,KAAL,CAAWN,KAAX,CAAiBmC,IAAnD,YADJ,eAEI;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,eAAe,EAAE,OAAlB;AAA0BC,QAAAA,MAAM,EAAC;AAAjC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAGI;AAAK,MAAA,KAAK,EAAE;AAACC,QAAAA,OAAO,EAAC,MAAT;AAAgBC,QAAAA,aAAa,EAAC,QAA9B;AAAuCC,QAAAA,cAAc,EAAC,cAAtD;AAAqEC,QAAAA,KAAK,EAAC,KAA3E;AAAiFC,QAAAA,MAAM,EAAC;AAAxF,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKlD,cAAc,CAAC,KAAKc,KAAL,CAAWN,KAAX,CAAiBE,YAAlB,CAAd,CAA8CC,eAA9C,CAA8DwC,GAA9D,CAAmEC,cAAc,IAAIlC,qBAAqB,CAACkC,cAAD,CAA1G,CADL,CAHJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,WAAhB;AAA4B,MAAA,KAAK,EAAC,SAAlC;AAA4C,MAAA,OAAO,EAAG5C,KAAD,IAAW;AAAC,aAAK4B,YAAL,CAAkB5B,KAAlB;AAAyB,OAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CANJ,CADJ;AAeH;;AA3CgC;;AA+CrC,eAAegB,aAAf","sourcesContent":["import 'date-fns';\r\nimport React, {Component,Fragment} from \"react\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport history from '../../history';\r\nimport DateSection from '../DateSection';\r\nimport Button from '@material-ui/core/Button';\r\nimport Pagination from '@material-ui/lab/Pagination';\r\nimport MapContainer from '../../MapContainer';\r\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize';\r\nimport axios from 'axios';\r\nimport SurveyHeader from './SurveyHeader'\r\nimport SurveyComponent from './SurveyComponent'\r\nimport SurveyElementComponent from './SurveyElementComponent'\r\nimport { isThisSecond } from 'date-fns';\r\n\r\nconst uri = \"http://localhost:8080/surveyQuestions/\";\r\n\r\nfunction getParticipant(arr){\r\n    for( let i = 0; i < arr.length; i++ ){\r\n        if( arr[i].tcKimlikNo === localStorage.getItem('tc')){\r\n            return arr[i];\r\n        }\r\n    }\r\n}\r\n\r\nfunction getPostData( event ){\r\n    let postData = [];\r\n    for( let i = 0; i < getParticipant(event.participants).surveyQuestions.length; i++ ){\r\n        const data ={\r\n            'questionName': getParticipant(event.participants).surveyQuestions[i].questionName,\r\n            'answer': this.state.answer[i],\r\n            'tcKimlikNo':localStorage.getItem('tc')\r\n        }\r\n        postData.push(data);\r\n    }\r\n    return postData;\r\n}\r\n\r\nlet number = 0;\r\nfunction createEventComponents(event){\r\n    number = number + 1;\r\n    return(\r\n        <SurveyElementComponent\r\n            question={event.question} \r\n            number={number}\r\n            handleChange={(text,i)=>{handleTextArea(text,i)}}\r\n        > \r\n        </SurveyElementComponent>\r\n    )    \r\n}\r\n\r\nfunction handleTextArea(text,i){\r\n    let arr = [...this.state.answers];\r\n    arr[i] = text;\r\n\r\n    this.setState({answers:arr});\r\n}\r\n\r\n\r\n\r\nclass SurveyElement extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            event:{},\r\n            answers:[]\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        axios.post(uri+window.location.href.substring(window.location.href.indexOf(\"/surveyQuestions\") + 16 ),{'tcKimlikNo':localStorage.getItem('tc')}).then(response => {\r\n            this.setState({event:response.data})\r\n        });\r\n    }\r\n    \r\n    handleSubmit(event){\r\n        axios.put(uri+window.location.href.substring(window.location.href.indexOf(\"/surveyQuestions\")) + 16, getPostData(this.state.event) ).then(response=>{\r\n            if(response.data.message==='ERROR'){\r\n                console.log(response);\r\n            }\r\n            else{\r\n                history.push(\"/events\")\r\n            }\r\n        })\r\n    }      \r\n\r\n\r\n    render(){\r\n        number = 0;\r\n        return(\r\n            <div>\r\n                <div style={{marginLeft:'40%'}}> {this.state.event.name} Survey</div>\r\n                <div style={{backgroundColor: 'black',height:'1px'}}></div>\r\n                <div style={{display:'flex',flexDirection:'column',justifyContent:'space-evenly',width:'80%',border:'1px solid black'}}>\r\n                    {getParticipant(this.state.event.participants).surveyQuestions.map( surveyQuestion => createEventComponents(surveyQuestion) )}\r\n                </div>\r\n                <div>\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={(event) => {this.handleSubmit(event)}}>\r\n                        Submit\r\n                    </Button>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default SurveyElement;"]},"metadata":{},"sourceType":"module"}