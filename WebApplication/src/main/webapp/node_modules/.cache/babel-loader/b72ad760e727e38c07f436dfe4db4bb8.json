{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cagri Eren\\\\Desktop\\\\tubitak-project\\\\event-manager-react\\\\src\\\\components\\\\ViewEvent\\\\ViewEvent.js\";\nimport 'date-fns';\nimport React, { Component, Fragment } from \"react\";\nimport TextField from '@material-ui/core/TextField';\nimport history from '../../history';\nimport Button from '@material-ui/core/Button';\nimport MapContainer from '../../MapContainerView';\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize';\nimport ViewEventHeader from './ViewEventHeader';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport axios from 'axios';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nconst uri = \"http://localhost:8080/events\";\n\nfunction Alert(props) {\n  return /*#__PURE__*/React.createElement(MuiAlert, Object.assign({\n    elevation: 6,\n    variant: \"filled\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 12\n    }\n  }));\n}\n\nfunction fixDateForJSON(date) {\n  console.log(date);\n  let year = date.substring(11, 15);\n  let month = getMonthNumberFromName(date.substring(4, 7));\n  let day = date.substring(8, 10);\n  return year + '-' + month + '-' + day;\n}\n\nfunction fixTimeForJSON(date) {\n  console.log(date);\n  let hour = date.substring(16, 18);\n  let minute = date.substring(19, 21);\n  return hour + ':' + minute;\n}\n\nfunction getMonthNumberFromName(monthName) {\n  switch (monthName) {\n    case 'Jan':\n      return '01';\n\n    case 'Feb':\n      return '02';\n\n    case 'Mar':\n      return '03';\n\n    case 'Apr':\n      return '04';\n\n    case 'May':\n      return '05';\n\n    case 'Jun':\n      return '06';\n\n    case 'Jul':\n      return '07';\n\n    case 'Aug':\n      return '08';\n\n    case 'Sep':\n      return '09';\n\n    case 'Oct':\n      return '10';\n\n    case 'Nov':\n      return '11';\n\n    case 'Dec':\n      return '12';\n\n    default:\n      return \"error\";\n  }\n}\n\nclass ViewEvent extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      eventName: '',\n      eventStartDate: '',\n      eventEndDate: '',\n      eventMax: 0,\n      eventCur: 0,\n      eventLat: 0,\n      eventLng: 0,\n      mapLoaded: false,\n      name: '',\n      surname: '',\n      email: '',\n      tc: '',\n      age: 0,\n      askAge: false,\n      gender: 'male',\n      askGender: false,\n      alertType: 'error',\n      msg: '',\n      open: false\n    };\n  }\n\n  componentDidMount() {\n    axios.get(uri + '/view' + window.location.href.substring(window.location.href.indexOf('/join') + 5)).then(response => {\n      this.setState({\n        eventName: response.data.name,\n        eventStartDate: response.data.startDate.substring(8, 10) + \"-\" + response.data.startDate.substring(5, 7) + \"-\" + response.data.startDate.substring(0, 4) + \" / \" + response.data.startTime,\n        eventEndDate: response.data.endDate.substring(8, 10) + \"-\" + response.data.endDate.substring(5, 7) + \"-\" + response.data.endDate.substring(0, 4) + \" / \" + response.data.endTime,\n        eventLat: response.data.lat,\n        eventLng: response.data.lng,\n        mapLoaded: true\n      });\n    });\n  }\n\n  handleInput(event) {\n    const name = event.target.name;\n    const value = event.target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleJoin() {\n    if (this.state.name == '' || this.state.surname == '' || this.state.tc == '' || this.state.email == '') {\n      this.setState({\n        alertType: \"error\",\n        msg: \"You must fill all the necessary parts\",\n        open: !this.state.open\n      });\n      return;\n    }\n\n    const date = \"\" + new Date();\n    const postData = {\n      'name': this.state.name,\n      'surname': this.state.surname,\n      'email': this.state.email,\n      'tcKimlikNo': this.state.tc,\n      'joinDate': fixDateForJSON(date),\n      'joinTime': fixTimeForJSON(date)\n    }; //Alert the user and pass the data to backend\n    //this.setState({ alertType: \"succes\", msg:\"Event Created\",open:!this.state.open});\n\n    axios.put(uri + window.location.href.substring(window.location.href.indexOf('/join')), postData).then(response => {\n      console.log(response);\n      history.push(\"/events\");\n    }); //history.push('/events');\n  }\n\n  render() {\n    const map = this.state.mapLoaded ? /*#__PURE__*/React.createElement(MapContainer, {\n      lat: this.state.eventLat,\n      lng: this.state.eventLng,\n      width: \"400px\",\n      height: \"400px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 44\n      }\n    }) : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 157\n      }\n    }, \"Loading...\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '700px',\n        backgroundColor: \"#fafbfc\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ViewEventHeader, {\n      eventName: this.state.eventName,\n      startDate: this.state.eventStartDate,\n      endDate: this.state.eventEndDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '500px',\n        display: 'flex',\n        justifyContent: 'space-evenly'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 29\n      }\n    }, \"Fill the informations that's asked to join the event\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'flex-start',\n        flexDirection: 'row'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '100px',\n        marginTop: '1em',\n        marginLeft: '1em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      name: \"name\",\n      id: \"standard-basic\",\n      value: this.state.name,\n      label: \"Name\",\n      onChange: event => this.handleInput(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 45\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '100px',\n        marginTop: '1em',\n        marginLeft: '10em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      name: \"surname\",\n      id: \"standard-basic\",\n      value: this.state.surname,\n      label: \"Surname\",\n      onChange: event => this.handleInput(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '100px',\n        marginTop: '1em',\n        marginLeft: '1em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      name: \"email\",\n      id: \"standard-basic\",\n      value: this.state.email,\n      label: \"Email\",\n      onChange: event => this.handleInput(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '100px',\n        marginTop: '1em',\n        marginLeft: '1em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      name: \"tc\",\n      id: \"standard-basic\",\n      value: this.state.tc,\n      label: \"T.C.\",\n      onChange: event => this.handleInput(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        marginTop: '1em',\n        marginLeft: '1em',\n        justifyContent: 'flex-start',\n        flexDirection: 'row',\n        flexWrap: 'wrap'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 29\n      }\n    }, this.state.askAge ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 55\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      type: \"number\",\n      name: \"age\",\n      id: \"standard-basic\",\n      value: this.state.age,\n      label: \"Age\",\n      onChange: event => this.handleInput(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 60\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 35\n      }\n    }), this.state.askGender ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginLeft: '9em'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 58\n      }\n    }, \" \", /*#__PURE__*/React.createElement(RadioGroup, {\n      \"aria-label\": \"gender\",\n      name: \"gender\",\n      value: this.state.gender,\n      onChange: event => {\n        this.setState({\n          gender: event.target.value\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 91\n      }\n    }, /*#__PURE__*/React.createElement(FormControlLabel, {\n      value: \"female\",\n      control: /*#__PURE__*/React.createElement(Radio, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 99\n        }\n      }),\n      label: \"Female\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 57\n      }\n    }), /*#__PURE__*/React.createElement(FormControlLabel, {\n      value: \"male\",\n      control: /*#__PURE__*/React.createElement(Radio, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 97\n        }\n      }),\n      label: \"Male\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 57\n      }\n    }))) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 35\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        alignSelf: 'flex-end'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }\n    }, map, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '400px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        wordBreak: 'break-all'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 29\n      }\n    }, \"Description:\")))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: '50px',\n        float: 'right'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: event => this.handleJoin(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 21\n      }\n    }, \"Join Event\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Snackbar, {\n      open: this.state.open,\n      autoHideDuration: 3000,\n      onClose: () => this.handleClose(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Alert, {\n      onClose: () => this.handleClose(),\n      severity: this.state.alertType,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }\n    }, this.state.msg))));\n  }\n\n}\n\nexport default ViewEvent;","map":{"version":3,"sources":["C:/Users/Cagri Eren/Desktop/tubitak-project/event-manager-react/src/components/ViewEvent/ViewEvent.js"],"names":["React","Component","Fragment","TextField","history","Button","MapContainer","TextareaAutosize","ViewEventHeader","Radio","RadioGroup","axios","FormControlLabel","Snackbar","MuiAlert","uri","Alert","props","fixDateForJSON","date","console","log","year","substring","month","getMonthNumberFromName","day","fixTimeForJSON","hour","minute","monthName","ViewEvent","state","eventName","eventStartDate","eventEndDate","eventMax","eventCur","eventLat","eventLng","mapLoaded","name","surname","email","tc","age","askAge","gender","askGender","alertType","msg","open","componentDidMount","get","window","location","href","indexOf","then","response","setState","data","startDate","startTime","endDate","endTime","lat","lng","handleInput","event","target","value","handleJoin","Date","postData","put","push","render","map","height","backgroundColor","display","justifyContent","flexDirection","marginTop","marginLeft","flexWrap","alignSelf","width","wordBreak","margin","float","handleClose"],"mappings":"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","sourcesContent":["import 'date-fns';\r\nimport React, {Component,Fragment} from \"react\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport history from '../../history';\r\nimport Button from '@material-ui/core/Button';\r\nimport MapContainer from '../../MapContainerView';\r\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize';\r\nimport ViewEventHeader from  './ViewEventHeader';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport axios from 'axios';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\n\r\nconst uri = \"http://localhost:8080/events\"\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\n\r\nfunction fixDateForJSON(date){\r\n    console.log(date);\r\n\r\n    let year = date.substring(11,15);\r\n    let month = getMonthNumberFromName(date.substring(4,7));\r\n    let day = date.substring(8,10);\r\n    \r\n    return year+'-'+month+'-'+day;\r\n}\r\nfunction fixTimeForJSON(date){\r\n    console.log(date);\r\n    let hour = date.substring(16,18);\r\n    let minute = date.substring(19,21);\r\n    return hour+':'+minute;\r\n}\r\n\r\nfunction getMonthNumberFromName(monthName){\r\n    switch(monthName){\r\n        case 'Jan':\r\n            return '01';\r\n        case 'Feb':\r\n            return '02';\r\n        case 'Mar':\r\n            return '03';\r\n        case 'Apr':\r\n            return '04';\r\n        case 'May':\r\n            return '05';\r\n        case 'Jun':\r\n            return '06';\r\n        case 'Jul':\r\n            return '07';\r\n        case 'Aug':\r\n            return '08';\r\n        case 'Sep':\r\n            return '09';\r\n        case 'Oct':\r\n            return '10';\r\n        case 'Nov':\r\n            return '11';\r\n        case 'Dec':\r\n            return '12';\r\n        default:\r\n            return \"error\";\r\n    }\r\n}\r\n\r\nclass ViewEvent extends Component{\r\n    state={\r\n        eventName:'',\r\n        eventStartDate:'',\r\n        eventEndDate:'',\r\n        eventMax:0,\r\n        eventCur:0,\r\n        eventLat:0,\r\n        eventLng:0,\r\n        mapLoaded:false,\r\n        name:'',\r\n        surname:'',\r\n        email:'',\r\n        tc: '',\r\n        age:0,\r\n        askAge:false,\r\n        gender:'male',\r\n        askGender:false,\r\n        alertType:'error',\r\n        msg:'',\r\n        open:false\r\n    }\r\n    componentDidMount(){\r\n        axios.get(uri + '/view' +window.location.href.substring(window.location.href.indexOf('/join')+5)).then(response=>{\r\n            this.setState({\r\n                eventName:response.data.name,\r\n                eventStartDate: response.data.startDate.substring(8,10) + \"-\" + response.data.startDate.substring(5,7) + \"-\" + response.data.startDate.substring(0,4)\r\n                + \" / \" + response.data.startTime,\r\n                eventEndDate: response.data.endDate.substring(8,10) + \"-\" + response.data.endDate.substring(5,7) + \"-\" + response.data.endDate.substring(0,4)\r\n                + \" / \" + response.data.endTime,\r\n                eventLat: response.data.lat,\r\n                eventLng: response.data.lng,\r\n                mapLoaded:true\r\n            })\r\n        })\r\n    }\r\n    handleInput(event){\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    handleJoin(){\r\n        if(this.state.name=='' || this.state.surname=='' || this.state.tc =='' ||this.state.email==''){\r\n            this.setState({ alertType: \"error\", msg:\"You must fill all the necessary parts\",open:!this.state.open});\r\n            return;\r\n        }\r\n        const date = \"\" +new Date();\r\n        const postData ={\r\n            'name':this.state.name,\r\n            'surname':this.state.surname,\r\n            'email':this.state.email,\r\n            'tcKimlikNo':this.state.tc,\r\n            'joinDate': fixDateForJSON(  date ),\r\n            'joinTime': fixTimeForJSON( date )\r\n        };\r\n        //Alert the user and pass the data to backend\r\n        //this.setState({ alertType: \"succes\", msg:\"Event Created\",open:!this.state.open});\r\n        axios.put(uri + (window.location.href.substring(window.location.href.indexOf('/join'))),postData).then(response=>{\r\n            console.log(response);\r\n            history.push(\"/events\");\r\n        });\r\n\r\n        //history.push('/events');\r\n    }\r\n\r\n    render(){\r\n        const map = this.state.mapLoaded ? <MapContainer lat={this.state.eventLat} lng={this.state.eventLng} width='400px' height='400px'></MapContainer> : <p>Loading...</p>;\r\n        return(\r\n            <div style={{height:'700px',backgroundColor:\"#fafbfc\"}}>\r\n                <ViewEventHeader eventName={this.state.eventName} startDate={this.state.eventStartDate} endDate={this.state.eventEndDate}></ViewEventHeader>\r\n                <div style={{height:'500px',display:'flex',justifyContent:'space-evenly'}}>\r\n                    <div>\r\n                        <form>\r\n                            <p>Fill the informations that's asked to join the event</p>\r\n                            <div style={{display:'flex', justifyContent:'flex-start',flexDirection:'row'}}>\r\n                                <div style={{height:'100px', marginTop:'1em', marginLeft:'1em'}}>\r\n                                            <TextField name= \"name\" id=\"standard-basic\" value={this.state.name} label=\"Name\" onChange={(event)=>this.handleInput(event)}/>\r\n                                </div>\r\n                                <div style={{height:'100px', marginTop:'1em', marginLeft:'10em'}}>\r\n                                            <TextField name= \"surname\" id=\"standard-basic\" value={this.state.surname} label=\"Surname\" onChange={(event)=>this.handleInput(event)}/>\r\n                                </div>\r\n                            </div>\r\n                            <div style={{height:'100px', marginTop:'1em', marginLeft:'1em'}}>\r\n                                <TextField name= \"email\" id=\"standard-basic\" value={this.state.email} label=\"Email\" onChange={(event)=>this.handleInput(event)}/>\r\n                            </div>\r\n                            <div style={{height:'100px', marginTop:'1em', marginLeft:'1em'}}>\r\n                                <TextField name= \"tc\" id=\"standard-basic\" value={this.state.tc} label=\"T.C.\" onChange={(event)=>this.handleInput(event)}/>\r\n                            </div>\r\n                            <div style={{display:'flex', marginTop:'1em', marginLeft:'1em',justifyContent:'flex-start',flexDirection:'row',flexWrap:'wrap'}}>\r\n                                {(this.state.askAge)?(<div><TextField type=\"number\" name= \"age\" id=\"standard-basic\" value={this.state.age} label=\"Age\" onChange={(event)=>this.handleInput(event)}/></div>)\r\n                                :(<div></div>)}\r\n                                {(this.state.askGender)?(<div style={{marginLeft:'9em'}}> <RadioGroup aria-label=\"gender\" name=\"gender\" value={this.state.gender} onChange={(event)=>{this.setState({gender:event.target.value})}}>\r\n                                                        <FormControlLabel value=\"female\" control={<Radio />} label=\"Female\" />\r\n                                                        <FormControlLabel value=\"male\" control={<Radio />} label=\"Male\" />\r\n                                                    </RadioGroup></div>)\r\n                                :(<div></div>)}\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                    <div style={{alignSelf:'flex-end'}}>\r\n                        {map}\r\n                        <div style={{width:'400px'}}>\r\n                            <p style={{wordBreak:'break-all'}}>Description:</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div style={{margin:'50px',float:'right'}}>\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={(event) => this.handleJoin(event)}>\r\n                            Join Event\r\n                    </Button>\r\n                </div>\r\n                <div>\r\n                <Snackbar open={this.state.open} autoHideDuration={3000} onClose={()=>this.handleClose()}>\r\n                    <Alert onClose={()=>this.handleClose()} severity={this.state.alertType}>\r\n                        {this.state.msg}\r\n                    </Alert>\r\n                </Snackbar>                \r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default ViewEvent;"]},"metadata":{},"sourceType":"module"}